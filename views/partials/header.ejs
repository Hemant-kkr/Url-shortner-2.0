<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>header</title>
  <link rel="stylesheet" href="/css/header.css">
</head>
<body>
  <nav>
  <div class="nav-container">
    <div class="logo">ðŸ”— ShortLink Pro</div>
    <ul class="nav-links">
      <li><a href="/" class="<%= page === 'home' ? 'active' : '' %>">Home</a></li>
      <li><a href="/dashboard" class="<%= page === 'dashboard' ? 'active' : '' %>">Dashboard</a></li>
      <!-- <li><a href="/analytics" class="<%= page === 'analytics' ? 'active' : '' %>">Analytics</a></li> -->
      <li><a href="/about" class="<%= page === 'about' ? 'active' : '' %>">About</a></li>
      
      <% if (!locals.loginStatus) { %>
        <li><a href="/login" class="<%= page === 'login' ? 'active' : '' %>">Login</a></li>
      <% } else { %>
         <li><a onclick="logout()">Logout</a></l i>
      <% } %>
     
    </ul>
    <!-- <button class="mobile-menu-btn">â˜°</button> -->
  </div>
</nav>
<script>
  async function logout()
  {
   try{
    const res = await fetch('/auth/logout',
      {
        method:'POST',
        credentials:'include' //important it sends the cookie from browser
      });
      const data =await res.json();
      if(res.ok){
        window.location.href='/login';
      }
   }
   catch(err){
    console.error("Logout Error",err);
   } 
  }
</script>
</body>
</html>




